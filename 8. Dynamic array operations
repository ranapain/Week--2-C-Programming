#include <stdio.h>
#include <stdlib.h>

int main() {
    int *arr = NULL, n = 0, choice, pos, val;

    while (1) {
        printf("\n1. Insert\n2. Delete\n3. Display\n4. Exit\nEnter choice: ");
        scanf("%d", &choice);

        if (choice == 1) { // Insert
            printf("Enter value to insert: ");
            scanf("%d", &val);
            n++;
            arr = realloc(arr, n * sizeof(int));
            arr[n - 1] = val;
        }
        else if (choice == 2) { // Delete
            if (n == 0) printf("Array empty!\n");
            else {
                printf("Enter position to delete (0-%d): ", n - 1);
                scanf("%d", &pos);
                if (pos < 0 || pos >= n) printf("Invalid position!\n");
                else {
                    for (int i = pos; i < n - 1; i++)
                        arr[i] = arr[i + 1];
                    n--;
                    arr = realloc(arr, n * sizeof(int));
                }
            }
        }
        else if (choice == 3) { // Display
            printf("Array: ");
            for (int i = 0; i < n; i++) printf("%d ", arr[i]);
            printf("\n");
        }
        else if (choice == 4) break;
        else printf("Invalid choice!\n");
    }

    free(arr);
    return 0;
}
